/* ================================
   電卓のレイアウト
================================ */
:root{
  --bg-0:#070a13; --bg-1:#0b1020;
  --txt:#e9eef7; --muted:#a6b3c7;
  --stroke:rgba(255,255,255,.12);
  --btn-raise:rgba(0,0,0,.35);
  --accent-1:#7c3aed; --accent-2:#2563eb;
  --radius:18px;
  --shadow-xl:0 30px 80px rgba(0,0,0,.55);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

/* ページ全体のスタイル */
body{
  margin:0;
  color:var(--txt);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(1200px 800px at 20% -10%, #10172a 0%, var(--bg-0) 60%),
    linear-gradient(180deg, var(--bg-0), var(--bg-1));
  display:grid;
  place-items:center;   /* 中央に配置 */
  padding: clamp(16px, 4vw, 40px);
  overflow:hidden;
}

/* ==== 背景のグロー ==== */
.bg-glow{
  position: fixed;
  width: 60vmax; height: 60vmax;
  filter: blur(80px); opacity:.45;
  pointer-events:none; z-index:0;
}
.bg-glow--purple{
  left:-12vmax; bottom:-14vmax;
  background: radial-gradient(circle at 30% 30%, rgba(124,58,237,.9), transparent 60%);
}
.bg-glow--blue{
  right:-15vmax; bottom:-8vmax;
  background: radial-gradient(circle at 70% 70%, rgba(37,99,235,.9), transparent 60%);
}

/* ==== ガラス風の電卓枠 ==== */
.glass{
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border:1px solid var(--stroke);
  border-radius: calc(var(--radius) + 6px);
  box-shadow: var(--shadow-xl);
}

/* ==== 電卓コンテナ ==== */
.calc{ 
  width:min(520px, 92vw);
  padding:22px 18px 24px;
  position:relative;
  z-index:1;
}

/* ==== 表示部 ==== */
.display{
  height:84px;
  border-radius:14px;
  background:
    linear-gradient(180deg, #0c101b 0%, #0a0f1a 60%),
    radial-gradient(120% 160% at 100% -30%, rgba(124,58,237,.35), transparent 60%);
  box-shadow: inset 0 -2px 0 rgba(255,255,255,.06), 0 8px 18px rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:flex-end;
  padding:0 18px;
  font-family: ui-monospace, "Cascadia Code", Menlo, Consolas, monospace;
  font-size:clamp(26px, 5vw, 46px);
  color:#f3f6ff; overflow:hidden;
}

/* ==== ボタン群 ==== */
.keys{
  margin-top:16px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
}

/* ==== ボタン共通 ==== */
.key{
  appearance:none;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, #141b2e, #0b1222);
  color:#e8efff;
  border-radius:14px;
  padding:16px 12px;
  font-weight:700;
  font-size:clamp(16px, 3.3vw, 22px);
  letter-spacing:.3px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 10px 20px var(--btn-raise);
  transition: transform .06s ease, box-shadow .18s ease, filter .18s ease;
}
.key:hover{ filter:brightness(1.06); }
.key:active{ transform:translateY(1px) scale(.995); }

/* フォーカス時のハイライト */
.key:focus-visible{
  outline:none;
  box-shadow:
    0 0 0 3px rgba(124,58,237,.5),
    0 0 0 6px rgba(37,99,235,.35),
    inset 0 1px 0 rgba(255,255,255,.06),
    0 10px 20px var(--btn-raise);
}

/* ==== ボタン種類ごとの色分け ==== */
.key.op{ background: linear-gradient(180deg, #19243a, #121b2d); color:#d8e4ff; border-color: rgba(124,58,237,.25); }
.key.ghost{ background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04)); color:#a6b3c7; border-color: rgba(255,255,255,.18); }
.key.accent{ background: linear-gradient(135deg, var(--accent-1), var(--accent-2)); color:#f7fbff; border:none; box-shadow: 0 0 28px rgba(124,58,237,.55), 0 0 24px rgba(37,99,235,.45), inset 0 1px 0 rgba(255,255,255,.25); }

/* AC / = ボタンは横幅2倍 */
.key.wide{ grid-column: span 2; }

/* ==== スマホ対応 ==== */
@media (max-width:420px){
  .display{ height:72px; }
  .key{ padding:14px 10px; }
}
